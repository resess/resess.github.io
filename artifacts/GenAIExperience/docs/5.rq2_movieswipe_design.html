<!DOCTYPE html><html lang="en-US">

<head>
    <meta charset="UTF-8">
    <title>5. RQ2: MovieSwipe Design</title>
    <link rel="stylesheet" href="../assets/css/just-the-docs.css"> 
    <link rel="stylesheet" href="../assets/css/h4-override.css">
    <script type="text/javascript" src="../assets/js/vendor/lunr.min.js"></script> 
    <script type="text/javascript" src="../assets/js/just-the-docs.js"></script>
    <script type="text/javascript" src="../assets/js/navigation.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    

<body>
    <div class="page-wrap">
        <div class="side-bar">
            <div class="site-header"> 
                <button class="menu-button fs-3 js-main-nav-trigger" data-text-toggle="Hide" type="button">Menu</button>
            </div>
            <div class="navigation main-nav js-main-nav">
                <!-- Navigation will be dynamically generated by navigation.js -->
            </div>
            <footer class="site-footer">
                <p class="text-small text-grey-dk-000 mb-4">FSE 2026</p>
            </footer>
        </div>
        <div class="main-content-wrap js-main-content" tabindex="0">
            <div class="main-content">
                <div class="page-header js-page-header">
                    <div class="search">
                        <div class="search-input-wrap"> 
                            <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search " aria-label="Search " autocomplete="off"> 
                            <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon">
                                <title>Search</title> 
                                <g fill-rule="nonzero">
                                    <path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z" />
                                    <path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z" />
                                </g>
                            </svg>
                        </div>
                        <div class="js-search-results search-results-wrap"></div>
                    </div>
                </div>
                <div class="page">
                    <div id="main-content" class="page-content" role="main">
                        <!-- Main Content of the Page Starts-->
                        <h1 id="movieswipe-design">5. RQ2: MovieSwipe Design</h1>
                        <p>Below are the three MovieSwipe app design documents, at different levels of specificity, that we provided to GenAI. At each level, we provided the description of this and all previous levels. </p>
                        <ol>
                        <li>Project Structure </li>
                        <li>Architecture-Level Design</li>
                        <li>By-Domain Design</li>
                        </ol>
                        <p>In our experiments, we save these documents as <a href="https://cursor.com/docs/context/rules">Cursor Rules</a> and use them in scenarios, as required. Cursor will automatically incorporate the rules into its system-level instructions which guide the code generation process. All Cursor Rules we used are available in this <a href="../data/zip/cursor_files.zip">zip file</a>. </p>
                        <hr>
                        <h2 id="1-project-structure">1. Project Structure</h2>
                        <h3 id="1-1-structure-frontend-">1.1 Structure (Frontend)</h3>
                        <p>The structure of the frontend must comply with the following guidelines: </p>
                        <p>Kotlin code of the frontend Android application is under <code>frontend/app/src/main/java/com/movieswipe</code>. </p>
                        <ul>
                        <li>Organize the code by architectural layers into the following packages: </li>
                        </ul>
                        <pre><code>/app
├── /ui                             # UI layer that presents data <span class="hljs-keyword">and</span> handles user interactions.
│      ├── /ui_elements             # UI elements <span class="hljs-keyword">on</span> the screen <span class="hljs-keyword">for</span> each <span class="hljs-keyword">of</span> the features.
│      ├── /stateholders            # State holders that hold data, expose this data <span class="hljs-keyword">to</span> the UI, <span class="hljs-keyword">and</span> handle logic.
│      ├── /reusable_ui_elements    # UI elements <span class="hljs-keyword">shared</span> between different features.
│      ├── /theme                   # Theming files that define the app<span class="hljs-symbol">'s</span> visual design system including colors, typography, etc.
│      └── /navigation              # Screen transitions.
├── /data                           # Data layer responsible <span class="hljs-keyword">for</span> data <span class="hljs-keyword">access</span>, storage, <span class="hljs-keyword">and</span> management.
│      ├── /datasources             # Data stored locally <span class="hljs-keyword">on</span> the device (e.g., <span class="hljs-keyword">access</span> token) <span class="hljs-keyword">or</span> fetched remotely (e.g., backend API calls).
│      └── /repositories            # Data abstraction <span class="hljs-keyword">and</span> a uniform interface <span class="hljs-keyword">to</span> <span class="hljs-keyword">access</span> data regardless <span class="hljs-keyword">of</span> where it comes from (local database, remote API, cache, etc.)
├── /di                             # Hilt dependency injection modules that define how <span class="hljs-keyword">to</span> create <span class="hljs-keyword">and</span> provide dependencies
└── /utils                          # Common helpers, utilities, constants, <span class="hljs-keyword">and</span> extension functions <span class="hljs-keyword">shared</span> across the app.
</code></pre><ul>
                        <li>Inside <code>/ui</code> folder, organize files by the following features: Authentication, Group, and Voting.</li>
                        <li>Inside <code>/data</code> folder, organize files by the following domains: User, VotingGroup, and Movie. </li>
                        </ul>
                        <h3 id="1-2-structure-backend-">1.2 Structure (Backend)</h3>
                        <p>The structure of the backend must comply with the following guidelines:</p>
                        <p>Typescript code of the backend Node.js application is under the <code>/backend</code> folder. </p>
                        <ul>
                        <li>Organize code by architecture layers into the following packages: </li>
                        </ul>
                        <pre><code>├── /src
│    ├── /routes         <span class="hljs-comment"># Define all the endpoints and link them to controllers. </span>
│    ├── /controllers    <span class="hljs-comment"># Handle incoming HTTP requests.</span>
│    ├── /services       <span class="hljs-comment"># Contain the business logic. </span>
│    ├── /repositories   <span class="hljs-comment"># Data access functions.</span>
│    ├── /models         <span class="hljs-comment"># Define the structure of the data (e.g., database schemas). </span>
│    ├── /config         <span class="hljs-comment"># Store configuration such as environment variables or DB settings.</span>
│    ├── /middleware     <span class="hljs-comment"># Functions that process requests and responses before they reach route handlers or after responses are generated. Such functions handle cross-cutting concerns, such as API authentication, logging, input and output validation, etc. </span>
│    ├── /types          <span class="hljs-comment"># Store the shared custom TypeScript type definitions and interfaces.</span>
│    └── /utils          <span class="hljs-comment"># Store the helper or utility functions.</span>
├──  /tests                <span class="hljs-comment"># Contains tests. </span>
└── /docs               <span class="hljs-comment"># Store the OpenAPI specification of backend APIs.</span>
</code></pre><ul>
                        <li>Inside <code>/routes</code>, <code>/controllers</code>, <code>/services</code>, <code>/repositories</code>, <code>/models</code> folders, organize files by the following domains: User, VotingGroup, and Movie.</li>
                        </ul>
                        <h2 id="2-architecture-level-design">2. Architecture-Level Design</h2>
                        <h3 id="2-1-design-frontend-">2.1 Design (Frontend)</h3>
                        <p>The frontend follows the recommended architecture outlined in the official Android documentation. It consists of an UI layer and Data layer. Each layer can have sub-layers. The architecture is organized as follow:</p>
                        <ul>
                        <li>UI layer: Consists of UI Elements sub-layer and State Holder sub-layer. UI Elements sub-layer renders data on the screen, consisting of feature-specific UI Elements, reusable UI Components, Theme, and Navigation. Reusable UI Components contain UI elements that are reusable across screens. Theme defines colors, typography, etc. of the app. Navigation manages screen transitions. State Holders sub-layer holds data, exposes the data to the UI, and handles UI logic. </li>
                        </ul>
                        <ul>
                        <li>Data layer: Consists of Repositories sub-layer and Data Sources sub-layer. Data Sources sub-layer defines data that are stored locally on the device local or fetched remotely. Repositories sub-layer specifies the abstraction over data sources.</li>
                        </ul>
                        <p>There are also application-level cross-cutting concerns that apply across layers, including Utils and DI. </p>
                        <ul>
                        <li><p>Utils defines common helpers, utilities, constants, and extension functions </p>
                        </li>
                        <li><p>DI are Hilt dependency injection modules that define how to create and provide dependencies</p>
                        </li>
                        </ul>
                        <hr>
                        <h3 id="2-2-design-backend-">2.2 Design (Backend)</h3>
                        <p>The backend follows a layered architecture that has Presentation, Business and Data layers. Each layer can have sub-layers. The architecture is overall organized as follow: </p>
                        <ul>
                        <li>Presentation layer: Consists of the Routes sub-layer and the Controllers sub-layer. Routes sub-layer defines all the endpoints and links them to the Controllers sub-layer. Controllers sub-layer handles incoming HTTP requests.</li>
                        <li>Business layer: Contains Services that define the core business logic implementation.</li>
                        <li>Data layer: Consists of the Repositories sub-layer and the Models sub-layer. Repositories sub-layer contains data access functions that interact with the database. Models sub-layer defines the structure of the data (e.g., database schemas).</li>
                        </ul>
                        <p>There are also cross-cutting concerns that apply across layers, including Config, Middleware, Types, and Utils.</p>
                        <ul>
                        <li>Config stores configuration such as environment variables or DB settings.</li>
                        <li>Middleware defines functions that process requests and responses before they reach route handlers or after responses are generated. Such functions handle cross-cutting concerns, such as API authentication, logging, input and output validation, etc.</li>
                        <li>Types store the shared custom TypeScript type definitions and interfaces.</li>
                        <li>Utils store the helper or utility functions.</li>
                        </ul>
                        <h2 id="3-by-domain-design">3. By-Domain Design</h2>
                        <h3 id="3-1-design-frontend-">3.1 Design (Frontend)</h3>
                        <h4 id="ui-layer-design">UI Layer Design</h4>
                        <p>The UI layer of the frontend is roughly organized by features of the app:</p>
                        <ul>
                        <li>Authentication: Allow users to sign in via Google Authentication Service.</li>
                        <li>Group: Allow users to view the list and details of groups they own or joined, create/delete a group, and join/leave a group. </li>
                        <li>Voting: Allow both owners and members to vote on movies using the swiping gesture. </li>
                        </ul>
                        <h4 id="data-layer-design">Data Layer Design</h4>
                        <p>The Data layer of the frontend is organized by domain:</p>
                        <ul>
                        <li>User domain: Manages user authentication state, authorization tokens, and user data.</li>
                        <li>VotingGroup domain: Manages group data, voting session states, membership information, and vote submissions.</li>
                        <li>Movie domain: Manages movie data and genre information.</li>
                        </ul>
                        <h4 id="architecture-diagram">Architecture Diagram</h4>
                        <p>During our experiment, we used <a href="https://cursor.com/docs/cookbook/mermaid-diagrams">Mermaid</a> to implement the frontend architecture diagram. </p>
                        <p>We provide a rendered image below for better readability. Each box in the diagram represents a component within a specific layer or sub-layer, corresponding to a particular feature in the UI layer or a domain in the Data layer. Each edge indicates a dependency between components. </p>
                        <p><img src="../data/movieswipe_frontend_architecture_diagram.jpg" alt="frontend architecture"></p>
                        <h3 id="3-2-design-backend-">3.2 Design (Backend)</h3>
                        <h4 id="by-domain-design">By-Domain Design</h4>
                        <p>Each backend layer and sub-layer is structured around the following domains:</p>
                        <ul>
                        <li>User domain: Manages user authentication, user data, and integration with Google Authentication Service .</li>
                        <li>VotingGroup domain: Manages groups, memberships, and collective movie selection through voting sessions.</li>
                        <li>Movie domain: Manages movie data, genre information, and integration with TMDB APIs.</li>
                        </ul>
                        <h4 id="architecture-diagram">Architecture Diagram</h4>
                        <p>During our experiment, we used <a href="https://cursor.com/docs/cookbook/mermaid-diagrams">Mermaid</a> to implement the backend architecture diagram. </p>
                        <p>Here, we provide a rendered image for better readability. Each box in the diagram represents a component in a specific layer or sub-layer for a specific domain. Each edge represents a dependency between the components. </p>
                        <p><img src="../data/movieswipe_backend_architecture_diagram.jpg" alt="backend architecture"></p>

                        <!-- Main Content of the Page Ends-->
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>