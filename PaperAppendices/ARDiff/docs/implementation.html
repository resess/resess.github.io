<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><title>Implementation - ARDiff</title><link rel="shortcut icon" href="https://resess.github.io/PaperAppendices/ARDiff/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="https://resess.github.io/PaperAppendices/ARDiff/assets/css/just-the-docs.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-2709176-10"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', "UA-2709176-10"); </script> <script type="text/javascript" src="https://resess.github.io/PaperAppendices/ARDiff/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="https://resess.github.io/PaperAppendices/ARDiff/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>Implementation | ARDiff</title><meta name="generator" content="Jekyll v4.0.1" /><meta property="og:title" content="Implementation" /><meta property="og:locale" content="en_US" /><meta name="description" content="A Jekyll theme for documentation" /><meta property="og:description" content="A Jekyll theme for documentation" /><link rel="canonical" href="https://resess.github.io/PaperAppendices/ARDiff/docs/implementation" /><meta property="og:url" content="https://resess.github.io/PaperAppendices/ARDiff/docs/implementation" /><meta property="og:site_name" content="ARDiff" /> <script type="application/ld+json"> {"description":"A Jekyll theme for documentation","headline":"Implementation","@type":"WebPage","url":"https://resess.github.io/PaperAppendices/ARDiff/docs/implementation","@context":"https://schema.org"}</script><body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="link" viewBox="0 0 16 16"><title>Link</title><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path> </symbol> </svg><div class="page-wrap"><div class="side-bar"><div class="site-header"> <a href="https://resess.github.io/PaperAppendices/ARDiff" class="site-title lh-tight"> ARDiff </a> <button class="menu-button fs-3 js-main-nav-trigger" data-text-toggle="Hide" type="button">Menu</button></div><div class="navigation main-nav js-main-nav"><nav role="navigation" aria-label="Main navigation"><ul class="navigation-list"><li class="navigation-list-item"><a href="https://resess.github.io/PaperAppendices/ARDiff/" class="navigation-list-link">Home</a><li class="navigation-list-item"><a href="https://resess.github.io/PaperAppendices/ARDiff/docs/benchmark" class="navigation-list-link">Benchmark</a><li class="navigation-list-item active"><a href="https://resess.github.io/PaperAppendices/ARDiff/docs/implementation" class="navigation-list-link active">Implementation</a><li class="navigation-list-item"><a href="https://resess.github.io/PaperAppendices/ARDiff/docs/results" class="navigation-list-link">Results</a></ul></nav></div><footer class="site-footer"><p class="text-small text-grey-dk-000 mb-4">This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</p></footer></div><div class="main-content-wrap js-main-content" tabindex="0"><div class="main-content"><div class="page-header js-page-header"><div class="search"><div class="search-input-wrap"> <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search ARDiff" aria-label="Search ARDiff" autocomplete="off"> <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg></div><div class="js-search-results search-results-wrap"></div></div></div><div class="page"><div id="main-content" class="page-content" role="main"><h2 id="the-source-code-of-our-framework-is-available-on-github"> <a href="#the-source-code-of-our-framework-is-available-on-github" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> The source code of our framework is available on <a href="https://github.com/shrBadihi/ARDiff_Equiv_Checking/tree/master/Implementation">GitHub</a>.</h2><hr /><h2 id="installing"> <a href="#installing" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Installing</h2><p>Java Runtime Environment version 8 is required. If using JDK 8, you need to copy tools.jar from jdk_1.8../lib to jdk_1.8../jre/lib if absent.</p><h3 id="jpf"> <a href="#jpf" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> JPF</h3><p>Pre-built versions of <a href="https://github.com/SymbolicPathFinder/jpf-symbc">JPF-Symbc</a>. and <a href="https://https://github.com/javapathfinder/jpf-core">JPF-core</a> are included in the project under the folder jpf-git.</p><p>You need to create in your home directory a .jpf directory and include inside a file name “site.properties”.</p><p>A template site.properties file is:</p><div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">jpf-core = ${user.home}/Desktop/Symbolic_Ex_Proj/ARDiff/Implementation/jpf-git/jpf-core</span>
<span class="s">jpf-symbc = ${user.home}/Desktop/Symbolic_Ex_Proj/ARDiff/Implementation/jpf-git/jpf-symbc</span>
<span class="s">extensions = ${jpf-core},${jpf-symbc}</span>
</code></pre></div></div><h3 id="z3"> <a href="#z3" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Z3</h3><p>For checking the equivalence of symbolic summaries, the Z3 constraint solver is used.</p><p>The Z3 library files needed by JPF-symbc for Unix and Windows are provided in our Implementation directory (under jpf-git/jpf-symbc/lib) and must be included in the PATH or LD_LIBRARY_PATH (Linux only) or DYLD_LIBRARY_PATH (Mac only) environnment variable.</p><p>You can also add it as an argument to java:</p><div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">java -Djava.library.path="..../jpf-git/jpf-symbc/lib"</span>
</code></pre></div></div><p>For Mac/Linux users, if you are running into some issues after this step, try adding “/usr/local/lib” as well to the library path.</p><p>Executables to run Z3 from the command line are also included in the Implementation folder. You do not need to include the executable to your PATH variable.</p><p>You can refer to <a href="https://github.com/Z3Prover/z3">Z3</a> for more information or to build Z3 yourself.</p><h3 id="other-dependencies"> <a href="#other-dependencies" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Other dependencies</h3><p>The dependencies for GumTree, and ASM Def-Use are included as well.</p><h2 id="setup"> <a href="#setup" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Setup</h2><p>The .jar file running the framework is provided in:</p><div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">Implementation/target/artifacts/Implementation_jar/Implementation.jar</span>
</code></pre></div></div><p>The project can also be open as a Maven project in an IDE in order to change/update the source code. The main class is Runner.Runner</p><h2 id="usage"> <a href="#usage" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Usage</h2><p>You must run the tool from the ARDiff/Implementation folder :</p><div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">java -jar target/artifacts/Implementation_jar/Implementation.jar --path1 path/to/the/first/method --path2 path/to/the/second/method --tool ToolName --s SMTSolverName --t timeout --bound LoopBoundLimit --minint Integer --maxint Integer --mindouble Double --maxdouble Double</span>
</code></pre></div></div><p>There are 10 arguments for configuring the framework: –path1 and –path2 are mandatory and the other eight are optional.</p><p>You need to give the paths to two (compilable) Java classes (with different names), each containing one of the target methods.</p><p>Note that the signature (i.e the name and the input parameters) and the return type must be the same for the two methods.</p><p>If the classes contain more than one method, the first method is considered as the target method for equivalence checking.</p><p>Extra information from running the tools will be stored in the directory of –path1.</p><p>You can also choose the tool, the SMT solver used in JPF-Symbc, the bound limit to unroll loops in JPF-symbc and min and max values for integers and doubles.</p><p>You can also choose the timeout in milliseconds. This timeout is for constraint solving in both JPF-symbc and Z3, it is not an overall timeout for the tool.</p><p>If you want to stop the tool after t seconds, for example 5, you can use any timeout mechanism, such as the Linux timeout command:</p><div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">timeout 5 java -jar target/artifacts/Implementation_jar/Implementation.jar --path1 path/to/the/first/method --path2 path/to/the/second/method --tool ToolName --s SMTSolverName --t timeout --bound LoopBoundLimit --minint Integer --maxint Integer --mindouble Double --maxdouble Double</span>
</code></pre></div></div><p>To obtain the overall time taken by the tool, in addition to the detailed times (in milisecond) we provide, you can also use timing mechanisms such as the Linux time command which gives you the CPU runtime of the process:</p><div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">time java -jar target/artifacts/Implementation_jar/Implementation.jar --path1 path/to/the/first/method --path2 path/to/the/second/method --tool ToolName --s SMTSolverName --t timeout --bound LoopBoundLimit --minint Integer --maxint Integer --mindouble Double --maxdouble Double</span>
</code></pre></div></div><h2 id="example"> <a href="#example" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Example</h2><p><img src="../img/eg.png" alt="" /></p></div></div></div></div>
